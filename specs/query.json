{
  "file": "Query",
  "config": "default",
  "tests": [
    {
      "description": [
        "Querying a table with a column called count",
        "should not confuse count column with pg_catalog.count aggregate"
      ],
      "request": {
        "method": "GET",
        "path": "/has_count_column",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Querying a table with a column called t",
        "should not conflict with internal postgrest table alias"
      ],
      "request": {
        "method": "GET",
        "path": "/clashing_column?select=t",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Querying a nonexistent table",
        "causes a 404"
      ],
      "request": {
        "method": "GET",
        "path": "/faketable",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 404,
        "body": {
          "code": "PGRST205",
          "details": null,
          "hint": "Perhaps you meant the table 'test.private_table'",
          "message": "Could not find the table 'test.faketable' in the schema cache"
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Length",
            "166"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with equality"
      ],
      "request": {
        "method": "GET",
        "path": "/items?id=eq.5",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 5
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-0/*"
          ],
          [
            "Content-Length",
            "10"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with equality using not operator"
      ],
      "request": {
        "method": "GET",
        "path": "/items?id=not.eq.5&order=id",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          },
          {
            "id": 2
          },
          {
            "id": 3
          },
          {
            "id": 4
          },
          {
            "id": 6
          },
          {
            "id": 7
          },
          {
            "id": 8
          },
          {
            "id": 9
          },
          {
            "id": 10
          },
          {
            "id": 11
          },
          {
            "id": 12
          },
          {
            "id": 13
          },
          {
            "id": 14
          },
          {
            "id": 15
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-13/*"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with more than one condition using not operator"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=like.*yx&extra=not.eq.u",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with inequality using not operator (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/items?id=not.lt.14&order=id.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 14
          },
          {
            "id": 15
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-1/*"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with inequality using not operator (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/items?id=not.gt.2&order=id.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          },
          {
            "id": 2
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-1/*"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches items IN"
      ],
      "request": {
        "method": "GET",
        "path": "/items?id=in.(1,3,5)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          },
          {
            "id": 3
          },
          {
            "id": 5
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-2/*"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches items NOT IN using not operator"
      ],
      "request": {
        "method": "GET",
        "path": "/items?id=not.in.(2,4,6,7,8,9,10,11,12,13,14,15)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          },
          {
            "id": 3
          },
          {
            "id": 5
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-2/*"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches nulls using not operator"
      ],
      "request": {
        "method": "GET",
        "path": "/no_pk?a=not.is.null",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "a": "1",
            "b": "0"
          },
          {
            "a": "2",
            "b": "0"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches not_null using is operator"
      ],
      "request": {
        "method": "GET",
        "path": "/no_pk?a=is.not_null",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "a": "1",
            "b": "0"
          },
          {
            "a": "2",
            "b": "0"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches nulls in varchar and numeric fields alike"
      ],
      "request": {
        "method": "GET",
        "path": "/no_pk?a=is.null",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "a": null,
            "b": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "not.is.not_null is equivalent to is.null (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/no_pk?a=not.is.not_null",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "a": null,
            "b": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "not.is.not_null is equivalent to is.null (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/nullable_integer?a=is.null",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "a": null
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with trilean values (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/chores?done=is.true",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "take out the garbage",
            "done": true
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with trilean values (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/chores?done=is.false",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 2,
            "name": "do the laundry",
            "done": false
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with trilean values (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/chores?done=is.unknown",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 3,
            "name": "wash the dishes",
            "done": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with null and not_null values in upper or mixed case (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/chores?done=is.NULL",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 3,
            "name": "wash the dishes",
            "done": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with null and not_null values in upper or mixed case (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/chores?done=is.NoT_NuLl",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "take out the garbage",
            "done": true
          },
          {
            "id": 2,
            "name": "do the laundry",
            "done": false
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with trilean values in upper or mixed case (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/chores?done=is.TRUE",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "take out the garbage",
            "done": true
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with trilean values in upper or mixed case (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/chores?done=is.FAlSe",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 2,
            "name": "do the laundry",
            "done": false
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with trilean values in upper or mixed case (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/chores?done=is.UnKnOwN",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 3,
            "name": "wash the dishes",
            "done": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "fails if 'is' used and there's no null or trilean value (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/chores?done=is.nil",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "fails if 'is' used and there's no null or trilean value (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/chores?done=is.ok",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with like (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=like.*yx",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "k": "xyyx",
            "extra": "u"
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with like (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=like.xy*",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "k": "xyyx",
            "extra": "u"
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with like (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=like.*YY*",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "k": "xYYx",
            "extra": "v"
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with like using not operator"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=not.like.*yx",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "k": "xYYx",
            "extra": "v"
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with ilike (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=ilike.xy*&order=extra.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "k": "xyyx",
            "extra": "u"
          },
          {
            "k": "xYYx",
            "extra": "v"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with ilike (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=ilike.*YY*&order=extra.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "k": "xyyx",
            "extra": "u"
          },
          {
            "k": "xYYx",
            "extra": "v"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with ilike using not operator"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=not.ilike.xy*&order=extra.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with ~ (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=match.yx$",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "k": "xyyx",
            "extra": "u"
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with ~ (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=match.^xy",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "k": "xyyx",
            "extra": "u"
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with ~ (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=match.YY",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "k": "xYYx",
            "extra": "v"
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with ~ using not operator"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=not.match.yx$",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "k": "xYYx",
            "extra": "v"
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with ~* (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=imatch.^xy&order=extra.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "k": "xyyx",
            "extra": "u"
          },
          {
            "k": "xYYx",
            "extra": "v"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with ~* (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=imatch..*YY.*&order=extra.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "k": "xyyx",
            "extra": "u"
          },
          {
            "k": "xYYx",
            "extra": "v"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with ~* using not operator"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk?k=not.imatch.^xy&order=extra.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "finds matches with to_tsquery"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=fts.impossible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'fun':5 'imposs':9 'kind':3"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "can use lexeme boolean operators(&=%26, |=%7C, !) in to_tsquery (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=fts.fun%26possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'also':2 'fun':3 'possibl':8"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "can use lexeme boolean operators(&=%26, |=%7C, !) in to_tsquery (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=fts.impossible%7Cpossible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'fun':5 'imposs':9 'kind':3"
          },
          {
            "text_search_vector": "'also':2 'fun':3 'possibl':8"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "can use lexeme boolean operators(&=%26, |=%7C, !) in to_tsquery (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=fts.fun%26!possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'fun':5 'imposs':9 'kind':3"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "finds matches with plainto_tsquery"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=plfts.The%20Fat%20Rats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'ate':3 'cat':2 'fat':1 'rat':4"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "finds matches with websearch_to_tsquery"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=wfts.The%20Fat%20Rats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'ate':3 'cat':2 'fat':1 'rat':4"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "can use boolean operators(and, or, -) in websearch_to_tsquery (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=wfts.fun%20and%20possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'also':2 'fun':3 'possibl':8"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "can use boolean operators(and, or, -) in websearch_to_tsquery (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=wfts.impossible%20or%20possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'fun':5 'imposs':9 'kind':3"
          },
          {
            "text_search_vector": "'also':2 'fun':3 'possibl':8"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "can use boolean operators(and, or, -) in websearch_to_tsquery (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=wfts.fun%20and%20-possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'fun':5 'imposs':9 'kind':3"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "finds matches with different dictionaries (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=fts(french).amusant",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'amus':5 'fair':7 'impossibl':9 'peu':4"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "finds matches with different dictionaries (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=plfts(french).amusant%20impossible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'amus':5 'fair':7 'impossibl':9 'peu':4"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "finds matches with different dictionaries (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=wfts(french).amusant%20impossible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'amus':5 'fair':7 'impossibl':9 'peu':4"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "can be negated with not operator (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=not.fts.impossible%7Cfat%7Cfun",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'amus':5 'fair':7 'impossibl':9 'peu':4"
          },
          {
            "text_search_vector": "'art':4 'spass':5 'unmog':7"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "can be negated with not operator (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=not.fts(english).impossible%7Cfat%7Cfun",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'amus':5 'fair':7 'impossibl':9 'peu':4"
          },
          {
            "text_search_vector": "'art':4 'spass':5 'unmog':7"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "can be negated with not operator (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=not.plfts.The%20Fat%20Rats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'fun':5 'imposs':9 'kind':3"
          },
          {
            "text_search_vector": "'also':2 'fun':3 'possibl':8"
          },
          {
            "text_search_vector": "'amus':5 'fair':7 'impossibl':9 'peu':4"
          },
          {
            "text_search_vector": "'art':4 'spass':5 'unmog':7"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "can be negated with not operator (4)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=not.wfts(english).impossible%20or%20fat%20or%20fun",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'amus':5 'fair':7 'impossibl':9 'peu':4"
          },
          {
            "text_search_vector": "'art':4 'spass':5 'unmog':7"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "Use of the phraseto_tsquery function",
        "finds matches"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=phfts.The%20Fat%20Cats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'ate':3 'cat':2 'fat':1 'rat':4"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "Use of the phraseto_tsquery function",
        "finds matches with different dictionaries"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=phfts(german).Art%20Spass",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'art':4 'spass':5 'unmog':7"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "Use of the phraseto_tsquery function",
        "can be negated with not operator"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?text_search_vector=not.phfts(english).The%20Fat%20Cats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'fun':5 'imposs':9 'kind':3"
          },
          {
            "text_search_vector": "'also':2 'fun':3 'possibl':8"
          },
          {
            "text_search_vector": "'amus':5 'fair':7 'impossibl':9 'peu':4"
          },
          {
            "text_search_vector": "'art':4 'spass':5 'unmog':7"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "Use of the phraseto_tsquery function",
        "can be used with or query param"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch?or=(text_search_vector.phfts(german).Art%20Spass, text_search_vector.phfts(french).amusant, text_search_vector.fts(english).impossible)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'fun':5 'imposs':9 'kind':3"
          },
          {
            "text_search_vector": "'amus':5 'fair':7 'impossibl':9 'peu':4"
          },
          {
            "text_search_vector": "'art':4 'spass':5 'unmog':7"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "Use of the phraseto_tsquery function",
        "works with tsvector computed fields"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search_vector&text_search_vector=fts(simple).of",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_vector": "'do':7 'fun':5 'impossible':9 'it':1 'kind':3 'of':4 's':2 'the':8 'to':6"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "Use of the phraseto_tsquery function",
        "works when the column type is a tsvector domain"
      ],
      "request": {
        "method": "GET",
        "path": "tsearch_to_tsvector?select=text_search_domain&text_search_domain=fts(simple).of",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_domain": "'do':7 'fun':5 'impossible':9 'it':1 'kind':3 'of':4 's':2 'the':8 'to':6"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "tsvector columns",
        "Use of the phraseto_tsquery function",
        "works when the column type is a recursive tsvector domain"
      ],
      "request": {
        "method": "GET",
        "path": "tsearch_to_tsvector?select=text_search_rec_domain&text_search_rec_domain=fts(simple).of",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search_rec_domain": "'do':7 'fun':5 'impossible':9 'it':1 'kind':3 'of':4 's':2 'the':8 'to':6"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "finds matches with to_tsquery (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=fts.impossible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "It's kind of fun to do the impossible"
          },
          {
            "text_search": "C'est un peu amusant de faire l'impossible"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "finds matches with to_tsquery (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=fts.impossible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "It's kind of fun to do the impossible"
            }
          },
          {
            "jsonb_search": {
              "text_search": "C'est un peu amusant de faire l'impossible"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can use lexeme boolean operators(&=%26, |=%7C, !) in to_tsquery (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=fts.fun%26possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "But also fun to do what is possible"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can use lexeme boolean operators(&=%26, |=%7C, !) in to_tsquery (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=fts.fun%26possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "But also fun to do what is possible"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can use lexeme boolean operators(&=%26, |=%7C, !) in to_tsquery (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=fts.impossible%7Cpossible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "It's kind of fun to do the impossible"
          },
          {
            "text_search": "But also fun to do what is possible"
          },
          {
            "text_search": "C'est un peu amusant de faire l'impossible"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can use lexeme boolean operators(&=%26, |=%7C, !) in to_tsquery (4)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=fts.impossible%7Cpossible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "It's kind of fun to do the impossible"
            }
          },
          {
            "jsonb_search": {
              "text_search": "But also fun to do what is possible"
            }
          },
          {
            "jsonb_search": {
              "text_search": "C'est un peu amusant de faire l'impossible"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can use lexeme boolean operators(&=%26, |=%7C, !) in to_tsquery (5)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=fts.fun%26!possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "It's kind of fun to do the impossible"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can use lexeme boolean operators(&=%26, |=%7C, !) in to_tsquery (6)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=fts.fun%26!possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "It's kind of fun to do the impossible"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "finds matches with plainto_tsquery (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=plfts.The%20Fat%20Rats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "Fat cats ate rats"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "finds matches with plainto_tsquery (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=plfts.The%20Fat%20Rats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "Fat cats ate rats"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "finds matches with websearch_to_tsquery (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=wfts.The%20Fat%20Rats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "Fat cats ate rats"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "finds matches with websearch_to_tsquery (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=wfts.The%20Fat%20Rats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "Fat cats ate rats"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can use boolean operators(and, or, -) in websearch_to_tsquery (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=wfts.fun%20and%20possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "But also fun to do what is possible"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can use boolean operators(and, or, -) in websearch_to_tsquery (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=wfts.fun%20and%20possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "But also fun to do what is possible"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can use boolean operators(and, or, -) in websearch_to_tsquery (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=wfts.impossible%20or%20possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "It's kind of fun to do the impossible"
          },
          {
            "text_search": "But also fun to do what is possible"
          },
          {
            "text_search": "C'est un peu amusant de faire l'impossible"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can use boolean operators(and, or, -) in websearch_to_tsquery (4)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=wfts.impossible%20or%20possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "It's kind of fun to do the impossible"
            }
          },
          {
            "jsonb_search": {
              "text_search": "But also fun to do what is possible"
            }
          },
          {
            "jsonb_search": {
              "text_search": "C'est un peu amusant de faire l'impossible"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can use boolean operators(and, or, -) in websearch_to_tsquery (5)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=wfts.fun%20and%20-possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "It's kind of fun to do the impossible"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can use boolean operators(and, or, -) in websearch_to_tsquery (6)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=wfts.fun%20and%20-possible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "It's kind of fun to do the impossible"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "finds matches with different dictionaries and uses them as configuration for to_tsvector() (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=fts(french).amusant",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "C'est un peu amusant de faire l'impossible"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "finds matches with different dictionaries and uses them as configuration for to_tsvector() (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=fts(french).amusant",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "C'est un peu amusant de faire l'impossible"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "finds matches with different dictionaries and uses them as configuration for to_tsvector() (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=plfts(french).amusant%20impossible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "C'est un peu amusant de faire l'impossible"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "finds matches with different dictionaries and uses them as configuration for to_tsvector() (4)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=plfts(french).amusant%20impossible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "C'est un peu amusant de faire l'impossible"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "finds matches with different dictionaries and uses them as configuration for to_tsvector() (5)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=wfts(french).amusant%20impossible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "C'est un peu amusant de faire l'impossible"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "finds matches with different dictionaries and uses them as configuration for to_tsvector() (6)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=wfts(french).amusant%20impossible",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "C'est un peu amusant de faire l'impossible"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can be negated with not operator (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=not.fts.impossible%7Cfat%7Cfun",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can be negated with not operator (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=not.fts.impossible%7Cfat%7Cfun",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can be negated with not operator (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=not.fts(english).impossible%7Cfat%7Cfun",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can be negated with not operator (4)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=not.fts(english).impossible%7Cfat%7Cfun",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can be negated with not operator (5)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=not.plfts.The%20Fat%20Rats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "It's kind of fun to do the impossible"
          },
          {
            "text_search": "But also fun to do what is possible"
          },
          {
            "text_search": "C'est un peu amusant de faire l'impossible"
          },
          {
            "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can be negated with not operator (6)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=not.plfts.The%20Fat%20Rats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "It's kind of fun to do the impossible"
            }
          },
          {
            "jsonb_search": {
              "text_search": "But also fun to do what is possible"
            }
          },
          {
            "jsonb_search": {
              "text_search": "C'est un peu amusant de faire l'impossible"
            }
          },
          {
            "jsonb_search": {
              "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can be negated with not operator (7)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=not.wfts(english).impossible%20or%20fat%20or%20fun",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "can be negated with not operator (8)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=not.wfts(english).impossible%20or%20fat%20or%20fun",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "Use of the phraseto_tsquery function",
        "finds matches (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=phfts.The%20Fat%20Cats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "Fat cats ate rats"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "Use of the phraseto_tsquery function",
        "finds matches (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=phfts.The%20Fat%20Cats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "Fat cats ate rats"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "Use of the phraseto_tsquery function",
        "finds matches with different dictionaries and uses them as configuration for to_tsvector() (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=phfts(german).Art%20Spass",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "Use of the phraseto_tsquery function",
        "finds matches with different dictionaries and uses them as configuration for to_tsvector() (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=phfts(german).Art%20Spass",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "Use of the phraseto_tsquery function",
        "can be negated with not operator (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&text_search=not.phfts(english).The%20Fat%20Cats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "It's kind of fun to do the impossible"
          },
          {
            "text_search": "But also fun to do what is possible"
          },
          {
            "text_search": "C'est un peu amusant de faire l'impossible"
          },
          {
            "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "Use of the phraseto_tsquery function",
        "can be negated with not operator (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&jsonb_search=not.phfts(english).The%20Fat%20Cats",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "It's kind of fun to do the impossible"
            }
          },
          {
            "jsonb_search": {
              "text_search": "But also fun to do what is possible"
            }
          },
          {
            "jsonb_search": {
              "text_search": "C'est un peu amusant de faire l'impossible"
            }
          },
          {
            "jsonb_search": {
              "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "Use of the phraseto_tsquery function",
        "can be used with or query param (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=text_search&or=(text_search.phfts(german).Art%20Spass, text_search.phfts(french).amusant, text_search.fts(english).impossible)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "text_search": "It's kind of fun to do the impossible"
          },
          {
            "text_search": "C'est un peu amusant de faire l'impossible"
          },
          {
            "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "Full text search operator",
        "text and json columns",
        "Use of the phraseto_tsquery function",
        "can be used with or query param (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/tsearch_to_tsvector?select=jsonb_search&or=(jsonb_search.phfts(german).Art%20Spass, jsonb_search.phfts(french).amusant, jsonb_search.fts(english).impossible)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "jsonb_search": {
              "text_search": "It's kind of fun to do the impossible"
            }
          },
          {
            "jsonb_search": {
              "text_search": "C'est un peu amusant de faire l'impossible"
            }
          },
          {
            "jsonb_search": {
              "text_search": "Es ist eine Art Spa, das Unmgliche zu machen"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with computed column"
      ],
      "request": {
        "method": "GET",
        "path": "/items?always_true=eq.true&order=id.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          },
          {
            "id": 2
          },
          {
            "id": 3
          },
          {
            "id": 4
          },
          {
            "id": 5
          },
          {
            "id": 6
          },
          {
            "id": 7
          },
          {
            "id": 8
          },
          {
            "id": 9
          },
          {
            "id": 10
          },
          {
            "id": 11
          },
          {
            "id": 12
          },
          {
            "id": 13
          },
          {
            "id": 14
          },
          {
            "id": 15
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "order by computed column"
      ],
      "request": {
        "method": "GET",
        "path": "/items?order=anti_id.desc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          },
          {
            "id": 2
          },
          {
            "id": 3
          },
          {
            "id": 4
          },
          {
            "id": 5
          },
          {
            "id": 6
          },
          {
            "id": 7
          },
          {
            "id": 8
          },
          {
            "id": 9
          },
          {
            "id": 10
          },
          {
            "id": 11
          },
          {
            "id": 12
          },
          {
            "id": 13
          },
          {
            "id": 14
          },
          {
            "id": 15
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "cannot access a computed column that is outside of the config schema"
      ],
      "request": {
        "method": "GET",
        "path": "/items?always_false=is.false",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches filtering nested items"
      ],
      "request": {
        "method": "GET",
        "path": "/clients?select=id,projects(id,tasks(id,name))&projects.tasks.name=like.Design*",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "projects": [
              {
                "id": 1,
                "tasks": [
                  {
                    "id": 1,
                    "name": "Design w7"
                  }
                ]
              },
              {
                "id": 2,
                "tasks": [
                  {
                    "id": 3,
                    "name": "Design w10"
                  }
                ]
              }
            ]
          },
          {
            "id": 2,
            "projects": [
              {
                "id": 3,
                "tasks": [
                  {
                    "id": 5,
                    "name": "Design IOS"
                  }
                ]
              },
              {
                "id": 4,
                "tasks": [
                  {
                    "id": 7,
                    "name": "Design OSX"
                  }
                ]
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "errs when the embedded resource doesn't exist and an embedded filter is applied to it (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/clients?select=*&non_existent_projects.name=like.*NonExistent*",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": {
          "hint": "Verify that 'non_existent_projects' is included in the 'select' query parameter.",
          "details": null,
          "code": "PGRST108",
          "message": "'non_existent_projects' is not an embedded resource in this request"
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Length",
            "204"
          ],
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "errs when the embedded resource doesn't exist and an embedded filter is applied to it (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/clients?select=*,amiga_projects:projects(*)&amiga_projectsss.name=ilike.*Amiga*",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": {
          "hint": "Verify that 'amiga_projectsss' is included in the 'select' query parameter.",
          "details": null,
          "code": "PGRST108",
          "message": "'amiga_projectsss' is not an embedded resource in this request"
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "errs when the embedded resource doesn't exist and an embedded filter is applied to it (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/clients?select=id,projects(id,tasks(id,name))&projects.tasks2.name=like.Design*",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": {
          "hint": "Verify that 'tasks2' is included in the 'select' query parameter.",
          "details": null,
          "code": "PGRST108",
          "message": "'tasks2' is not an embedded resource in this request"
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with cs operator"
      ],
      "request": {
        "method": "GET",
        "path": "/complex_items?select=id&arr_data=cs.{2}",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 2
          },
          {
            "id": 3
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with cd operator"
      ],
      "request": {
        "method": "GET",
        "path": "/complex_items?select=id&arr_data=cd.{1,2,4}",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          },
          {
            "id": 2
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with IS DISTINCT FROM"
      ],
      "request": {
        "method": "GET",
        "path": "/no_pk?select=a&a=isdistinct.2",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "a": null
          },
          {
            "a": "1"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Filtering response",
        "matches with IS DISTINCT FROM using not operator"
      ],
      "request": {
        "method": "GET",
        "path": "/no_pk?select=a&a=not.isdistinct.2",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "a": "2"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "selectStar works in absense of parameter"
      ],
      "request": {
        "method": "GET",
        "path": "/complex_items?id=eq.3",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 3,
            "name": "Three",
            "settings": {
              "foo": {
                "int": 1,
                "bar": "baz"
              }
            },
            "arr_data": [
              1,
              2,
              3
            ],
            "field-with_sep": 3
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "dash `-` in column names is accepted"
      ],
      "request": {
        "method": "GET",
        "path": "/complex_items?id=eq.3&select=id,field-with_sep",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 3,
            "field-with_sep": 3
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one simple column"
      ],
      "request": {
        "method": "GET",
        "path": "/complex_items?select=id",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          },
          {
            "id": 2
          },
          {
            "id": 3
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "rename simple column"
      ],
      "request": {
        "method": "GET",
        "path": "/complex_items?id=eq.1&select=myId:id",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "myId": 1
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one simple column with casting (text)"
      ],
      "request": {
        "method": "GET",
        "path": "/complex_items?select=id::text",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": "1"
          },
          {
            "id": "2"
          },
          {
            "id": "3"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "rename simple column with casting"
      ],
      "request": {
        "method": "GET",
        "path": "/complex_items?id=eq.1&select=myId:id::text",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "myId": "1"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "json column"
      ],
      "request": {
        "method": "GET",
        "path": "/complex_items?id=eq.1&select=settings",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "settings": {
              "foo": {
                "int": 1,
                "bar": "baz"
              }
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "fails on bad casting (wrong cast type)"
      ],
      "request": {
        "method": "GET",
        "path": "/complex_items?select=id::fakecolumntype",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": {
          "hint": null,
          "details": null,
          "code": "42704",
          "message": "type \"fakecolumntype\" does not exist"
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Length",
            "94"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "can cast types with underscore and numbers"
      ],
      "request": {
        "method": "GET",
        "path": "/oid_test?select=id,oid_col::int,oid_array_col::_int4",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "oid_col": 12345,
            "oid_array_col": [
              1,
              2,
              3,
              4,
              5
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting parents and children"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=eq.1&select=id, name, clients(*), tasks(id, name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7",
            "clients": {
              "id": 1,
              "name": "Microsoft"
            },
            "tasks": [
              {
                "id": 1,
                "name": "Design w7"
              },
              {
                "id": 2,
                "name": "Code w7"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Length",
            "141"
          ],
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting parent and renaming primary key"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?select=name,client:clients(clientId:id,name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Windows 7",
            "client": {
              "name": "Microsoft",
              "clientId": 1
            }
          },
          {
            "name": "Windows 10",
            "client": {
              "name": "Microsoft",
              "clientId": 1
            }
          },
          {
            "name": "IOS",
            "client": {
              "name": "Apple",
              "clientId": 2
            }
          },
          {
            "name": "OSX",
            "client": {
              "name": "Apple",
              "clientId": 2
            }
          },
          {
            "name": "Orphan",
            "client": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting parent and specifying/renaming one key of the composite primary key (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/comments?select=*,users_tasks(userId:user_id)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "commenter_id": 1,
            "user_id": 2,
            "task_id": 6,
            "content": "Needs to be delivered ASAP",
            "users_tasks": {
              "userId": 2
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting parent and specifying/renaming one key of the composite primary key (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/comments?select=*,users_tasks(taskId:task_id)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "commenter_id": 1,
            "user_id": 2,
            "task_id": 6,
            "content": "Needs to be delivered ASAP",
            "users_tasks": {
              "taskId": 6
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting parents and children while renaming them"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=eq.1&select=myId:id, name, project_client:clients(*), project_tasks:tasks(id, name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "myId": 1,
            "name": "Windows 7",
            "project_client": {
              "id": 1,
              "name": "Microsoft"
            },
            "project_tasks": [
              {
                "id": 1,
                "name": "Design w7"
              },
              {
                "id": 2,
                "name": "Code w7"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting parents and filtering parent columns"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=eq.1&select=id, name, clients(id)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7",
            "clients": {
              "id": 1
            }
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "rows with missing parents are included"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=in.(1,5)&select=id,clients(id)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "clients": {
              "id": 1
            }
          },
          {
            "id": 5,
            "clients": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "rows with no children return [] instead of null"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=in.(5)&select=id,tasks(id)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 5,
            "tasks": []
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting children 2 levels"
      ],
      "request": {
        "method": "GET",
        "path": "/clients?id=eq.1&select=id,projects(id,tasks(id))",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "projects": [
              {
                "id": 1,
                "tasks": [
                  {
                    "id": 1
                  },
                  {
                    "id": 2
                  }
                ]
              },
              {
                "id": 2,
                "tasks": [
                  {
                    "id": 3
                  },
                  {
                    "id": 4
                  }
                ]
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting many<->many relation"
      ],
      "request": {
        "method": "GET",
        "path": "/tasks?select=id,users(id)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "users": [
              {
                "id": 1
              },
              {
                "id": 3
              }
            ]
          },
          {
            "id": 2,
            "users": [
              {
                "id": 1
              }
            ]
          },
          {
            "id": 3,
            "users": [
              {
                "id": 1
              }
            ]
          },
          {
            "id": 4,
            "users": [
              {
                "id": 1
              }
            ]
          },
          {
            "id": 5,
            "users": [
              {
                "id": 2
              },
              {
                "id": 3
              }
            ]
          },
          {
            "id": 6,
            "users": [
              {
                "id": 2
              }
            ]
          },
          {
            "id": 7,
            "users": [
              {
                "id": 2
              }
            ]
          },
          {
            "id": 8,
            "users": []
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting many<->many relation with rename"
      ],
      "request": {
        "method": "GET",
        "path": "/tasks?id=eq.1&select=id,theUsers:users(id)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "theUsers": [
              {
                "id": 1
              },
              {
                "id": 3
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting many<->many relation reverse"
      ],
      "request": {
        "method": "GET",
        "path": "/users?select=id,tasks(id)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "tasks": [
              {
                "id": 1
              },
              {
                "id": 2
              },
              {
                "id": 3
              },
              {
                "id": 4
              }
            ]
          },
          {
            "id": 2,
            "tasks": [
              {
                "id": 5
              },
              {
                "id": 6
              },
              {
                "id": 7
              }
            ]
          },
          {
            "id": 3,
            "tasks": [
              {
                "id": 1
              },
              {
                "id": 5
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting many<->many relation using composite key"
      ],
      "request": {
        "method": "GET",
        "path": "/files?filename=eq.autoexec.bat&project_id=eq.1&select=filename,users_tasks(user_id,task_id)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "filename": "autoexec.bat",
            "users_tasks": [
              {
                "user_id": 1,
                "task_id": 1
              },
              {
                "user_id": 3,
                "task_id": 1
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting data using many<->many relation defined by composite keys"
      ],
      "request": {
        "method": "GET",
        "path": "/users_tasks?user_id=eq.1&task_id=eq.1&select=user_id,files(filename,content)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "user_id": 1,
            "files": [
              {
                "filename": "autoexec.bat",
                "content": "@ECHO OFF"
              },
              {
                "filename": "command.com",
                "content": "#include <unix.h>"
              },
              {
                "filename": "README.md",
                "content": "# make $$$!"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting data using many<->many (composite keys) relation using hint"
      ],
      "request": {
        "method": "GET",
        "path": "/users_tasks?user_id=eq.1&task_id=eq.1&select=user_id,files!touched_files(filename,content)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "user_id": 1,
            "files": [
              {
                "filename": "autoexec.bat",
                "content": "@ECHO OFF"
              },
              {
                "filename": "command.com",
                "content": "#include <unix.h>"
              },
              {
                "filename": "README.md",
                "content": "# make $$$!"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "requesting children with composite key"
      ],
      "request": {
        "method": "GET",
        "path": "/users_tasks?user_id=eq.2&task_id=eq.6&select=*, comments(content)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "user_id": 2,
            "task_id": 6,
            "comments": [
              {
                "content": "Needs to be delivered ASAP"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one-to-many embeds without a disambiguation error due to wrongly generated many-to-many relationships"
      ],
      "request": {
        "method": "GET",
        "path": "/plate?select=*,well(*)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one to one relationships",
        "works when having a pk as fk (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/students_info?select=address,students(name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "address": "Street 1",
            "students": {
              "name": "John Doe"
            }
          },
          {
            "address": "Street 2",
            "students": {
              "name": "Jane Doe"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one to one relationships",
        "works when having a pk as fk (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/students?select=name,students_info(address)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "John Doe",
            "students_info": {
              "address": "Street 1"
            }
          },
          {
            "name": "Jane Doe",
            "students_info": {
              "address": "Street 2"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one to one relationships",
        "works when having a fk with a unique constraint (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/country?select=name,capital(name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Afghanistan",
            "capital": {
              "name": "Kabul"
            }
          },
          {
            "name": "Algeria",
            "capital": {
              "name": "Algiers"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one to one relationships",
        "works when having a fk with a unique constraint (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/capital?select=name,country(name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Kabul",
            "country": {
              "name": "Afghanistan"
            }
          },
          {
            "name": "Algiers",
            "country": {
              "name": "Algeria"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one to one relationships",
        "works when using column as target (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/capital?select=name,country_id(name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Kabul",
            "country_id": {
              "name": "Afghanistan"
            }
          },
          {
            "name": "Algiers",
            "country_id": {
              "name": "Algeria"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one to one relationships",
        "works when using column as target (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/capital?select=name,capital_country_id_fkey(name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Kabul",
            "capital_country_id_fkey": {
              "name": "Afghanistan"
            }
          },
          {
            "name": "Algiers",
            "capital_country_id_fkey": {
              "name": "Algeria"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one to one relationships",
        "works when using column as target (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/country?select=name,capital_country_id_fkey(name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Afghanistan",
            "capital_country_id_fkey": {
              "name": "Kabul"
            }
          },
          {
            "name": "Algeria",
            "capital_country_id_fkey": {
              "name": "Algiers"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one to one relationships",
        "works when using column as target (4)"
      ],
      "request": {
        "method": "GET",
        "path": "/country?select=name,id(name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Afghanistan",
            "id": {
              "name": "Kabul"
            }
          },
          {
            "name": "Algeria",
            "id": {
              "name": "Algiers"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one to one relationships",
        "works when using column as hint (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/country?select=name,capital!id(name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Afghanistan",
            "capital": {
              "name": "Kabul"
            }
          },
          {
            "name": "Algeria",
            "capital": {
              "name": "Algiers"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one to one relationships",
        "works when using column as hint (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/country?select=name,capital!country_id(name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Afghanistan",
            "capital": {
              "name": "Kabul"
            }
          },
          {
            "name": "Algeria",
            "capital": {
              "name": "Algiers"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one to one relationships",
        "works when using column as hint (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/capital?select=name,country!id(name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Kabul",
            "country": {
              "name": "Afghanistan"
            }
          },
          {
            "name": "Algiers",
            "country": {
              "name": "Algeria"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "one to one relationships",
        "works when using column as hint (4)"
      ],
      "request": {
        "method": "GET",
        "path": "/capital?select=name,country!country_id(name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Kabul",
            "country": {
              "name": "Afghanistan"
            }
          },
          {
            "name": "Algiers",
            "country": {
              "name": "Algeria"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "computed columns",
        "computed column on table"
      ],
      "request": {
        "method": "GET",
        "path": "/items?id=eq.1&select=id,always_true",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "always_true": true
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "computed columns",
        "computed column on rpc"
      ],
      "request": {
        "method": "GET",
        "path": "/rpc/search?id=1&select=id,always_true",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "always_true": true
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "computed columns",
        "overloaded computed columns on both tables (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/items?id=eq.1&select=id,computed_overload",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "computed_overload": true
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "computed columns",
        "overloaded computed columns on both tables (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/items2?id=eq.1&select=id,computed_overload",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "computed_overload": true
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "computed columns",
        "overloaded computed column on rpc"
      ],
      "request": {
        "method": "GET",
        "path": "/rpc/search?id=1&select=id,computed_overload",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "computed_overload": true
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "partitioned tables embedding",
        "can request a table as parent from a partitioned table"
      ],
      "request": {
        "method": "GET",
        "path": "/car_models?name=in.(DeLorean,Murcielago)&select=name,year,car_brands(name)&order=name.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "DeLorean",
            "year": 1981,
            "car_brands": {
              "name": "DMC"
            }
          },
          {
            "name": "Murcielago",
            "year": 2001,
            "car_brands": {
              "name": "Lamborghini"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "partitioned tables embedding",
        "can request partitioned tables as children from a table"
      ],
      "request": {
        "method": "GET",
        "path": "/car_brands?select=name,car_models(name,year)&order=name.asc&car_models.order=name.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "DMC",
            "car_models": [
              {
                "name": "DeLorean",
                "year": 1981
              }
            ]
          },
          {
            "name": "Ferrari",
            "car_models": [
              {
                "name": "F310-B",
                "year": 1997
              }
            ]
          },
          {
            "name": "Lamborghini",
            "car_models": [
              {
                "name": "Murcielago",
                "year": 2001
              },
              {
                "name": "Veneno",
                "year": 2013
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "partitioned tables embedding",
        "can request tables as children from a partitioned table"
      ],
      "request": {
        "method": "GET",
        "path": "/car_models?name=in.(DeLorean,F310-B)&select=name,year,car_racers(name)&order=name.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "DeLorean",
            "year": 1981,
            "car_racers": []
          },
          {
            "name": "F310-B",
            "year": 1997,
            "car_racers": [
              {
                "name": "Michael Schumacher"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "partitioned tables embedding",
        "can request a partitioned table as parent from a table"
      ],
      "request": {
        "method": "GET",
        "path": "/car_racers?select=name,car_models(name,year)&order=name.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Alain Prost",
            "car_models": null
          },
          {
            "name": "Michael Schumacher",
            "car_models": {
              "name": "F310-B",
              "year": 1997
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "partitioned tables embedding",
        "can request partitioned tables as children from a partitioned table"
      ],
      "request": {
        "method": "GET",
        "path": "/car_models?name=in.(DeLorean,Murcielago,Veneno)&select=name,year,car_model_sales(date,quantity)&order=name.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "DeLorean",
            "year": 1981,
            "car_model_sales": [
              {
                "date": "2021-01-14",
                "quantity": 7
              },
              {
                "date": "2021-01-15",
                "quantity": 9
              }
            ]
          },
          {
            "name": "Murcielago",
            "year": 2001,
            "car_model_sales": [
              {
                "date": "2021-02-11",
                "quantity": 1
              },
              {
                "date": "2021-02-12",
                "quantity": 3
              }
            ]
          },
          {
            "name": "Veneno",
            "year": 2013,
            "car_model_sales": []
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "partitioned tables embedding",
        "can request a partitioned table as parent from a partitioned table"
      ],
      "request": {
        "method": "GET",
        "path": "/car_model_sales?date=in.(2021-01-15,2021-02-11)&select=date,quantity,car_models(name,year)&order=date.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "date": "2021-01-15",
            "quantity": 9,
            "car_models": {
              "name": "DeLorean",
              "year": 1981
            }
          },
          {
            "date": "2021-02-11",
            "quantity": 1,
            "car_models": {
              "name": "Murcielago",
              "year": 2001
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "partitioned tables embedding",
        "can request many to many relationships between partitioned tables ignoring the intermediate table partitions"
      ],
      "request": {
        "method": "GET",
        "path": "/car_models?select=name,year,car_dealers(name,city)&order=name.asc&limit=4",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "DeLorean",
            "year": 1981,
            "car_dealers": [
              {
                "name": "Springfield Cars S.A.",
                "city": "Springfield"
              }
            ]
          },
          {
            "name": "F310-B",
            "year": 1997,
            "car_dealers": []
          },
          {
            "name": "Murcielago",
            "year": 2001,
            "car_dealers": [
              {
                "name": "The Best Deals S.A.",
                "city": "Franklin"
              }
            ]
          },
          {
            "name": "Veneno",
            "year": 2013,
            "car_dealers": []
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "partitioned tables embedding",
        "cannot request partitions as children from a partitioned table"
      ],
      "request": {
        "method": "GET",
        "path": "/car_models?id=in.(1,2,4)&select=id,name,car_model_sales_202101(id)&order=id.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": {
          "hint": "Perhaps you meant 'car_model_sales' instead of 'car_model_sales_202101'.",
          "details": "Searched for a foreign key relationship between 'car_models' and 'car_model_sales_202101' in the schema 'test', but no matches were found.",
          "code": "PGRST200",
          "message": "Could not find a relationship between 'car_models' and 'car_model_sales_202101' in the schema cache"
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "partitioned tables embedding",
        "table not found error if first table does not exist"
      ],
      "request": {
        "method": "GET",
        "path": "/car_model_sales_202101?select=id,name,car_models(id,name)&order=id.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 404,
        "body": {
          "code": "PGRST205",
          "details": null,
          "hint": "Perhaps you meant the table 'test.car_model_sales'",
          "message": "Could not find the table 'test.car_model_sales_202101' in the schema cache"
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "partitioned tables embedding",
        "cannot request a partition as parent from a partitioned table"
      ],
      "request": {
        "method": "GET",
        "path": "/car_model_sales?id=in.(1,3,4)&select=id,name,car_models_default(id,name)&order=id.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": {
          "hint": "Perhaps you meant 'car_models' instead of 'car_models_default'.",
          "details": "Searched for a foreign key relationship between 'car_model_sales' and 'car_models_default' in the schema 'test', but no matches were found.",
          "code": "PGRST200",
          "message": "Could not find a relationship between 'car_model_sales' and 'car_models_default' in the schema cache"
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "partitioned tables embedding",
        "table not found error if first table does not exist"
      ],
      "request": {
        "method": "GET",
        "path": "/car_models_default?select=id,name,car_model_sales(id,name)&order=id.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 404,
        "body": {
          "code": "PGRST205",
          "details": null,
          "hint": "Perhaps you meant the table 'test.car_model_sales'",
          "message": "Could not find the table 'test.car_models_default' in the schema cache"
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "can detect fk relations through views to tables in the public schema"
      ],
      "request": {
        "method": "GET",
        "path": "/consumers_view?select=*,orders_view(*)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "can detect fk relations through materialized views to tables in the public schema"
      ],
      "request": {
        "method": "GET",
        "path": "/materialized_projects?select=*,users(*)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "can request two parents"
      ],
      "request": {
        "method": "GET",
        "path": "/articleStars?select=createdAt,article:articles(id),user:users(name)&limit=1",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "createdAt": "2015-12-08T04:22:57.472738",
            "article": {
              "id": 1
            },
            "user": {
              "name": "Angela Martin"
            }
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "can detect relations in views from exposed schema that are based on tables in private schema and have columns renames"
      ],
      "request": {
        "method": "GET",
        "path": "/articles?id=eq.1&select=id,articleStars(users(*))",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "articleStars": [
              {
                "users": {
                  "id": 1,
                  "name": "Angela Martin"
                }
              },
              {
                "users": {
                  "id": 2,
                  "name": "Michael Scott"
                }
              },
              {
                "users": {
                  "id": 3,
                  "name": "Dwight Schrute"
                }
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works when requesting parents and children on views"
      ],
      "request": {
        "method": "GET",
        "path": "/projects_view?id=eq.1&select=id, name, clients(*), tasks(id, name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7",
            "clients": {
              "id": 1,
              "name": "Microsoft"
            },
            "tasks": [
              {
                "id": 1,
                "name": "Design w7"
              },
              {
                "id": 2,
                "name": "Code w7"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works when requesting parents and children on views with renamed keys"
      ],
      "request": {
        "method": "GET",
        "path": "/projects_view_alt?t_id=eq.1&select=t_id, name, clients(*), tasks(id, name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "t_id": 1,
            "name": "Windows 7",
            "clients": {
              "id": 1,
              "name": "Microsoft"
            },
            "tasks": [
              {
                "id": 1,
                "name": "Design w7"
              },
              {
                "id": 2,
                "name": "Code w7"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "detects parent relations when having many views of a private table (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/books?select=title,author:authors(name)&id=eq.5",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "title": "Farenheit 451",
            "author": {
              "name": "Ray Bradbury"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "detects parent relations when having many views of a private table (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/forties_books?select=title,author:authors(name)&limit=1",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "title": "1984",
            "author": {
              "name": "George Orwell"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "detects parent relations when having many views of a private table (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/fifties_books?select=title,author:authors(name)&limit=1",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "title": "The Catcher in the Rye",
            "author": {
              "name": "J.D. Salinger"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "detects parent relations when having many views of a private table (4)"
      ],
      "request": {
        "method": "GET",
        "path": "/sixties_books?select=title,author:authors(name)&limit=1",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "title": "To Kill a Mockingbird",
            "author": {
              "name": "Harper Lee"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "can detect fk relations through multiple views recursively when all views are in api schema"
      ],
      "request": {
        "method": "GET",
        "path": "/consumers_view_view?select=*,orders_view(*)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works with views that have subselects"
      ],
      "request": {
        "method": "GET",
        "path": "/authors_books_number?select=*,books(title)&id=eq.1",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "George Orwell",
            "num_in_forties": 1,
            "num_in_fifties": 0,
            "num_in_sixties": 0,
            "num_in_all_decades": 1,
            "books": [
              {
                "title": "1984"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works with views that have case subselects"
      ],
      "request": {
        "method": "GET",
        "path": "/authors_have_book_in_decade?select=*,books(title)&id=eq.3",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 3,
            "name": "Antoine de Saint-Exupry",
            "has_book_in_forties": true,
            "has_book_in_fifties": false,
            "has_book_in_sixties": false,
            "books": [
              {
                "title": "The Little Prince"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works with views that have subselect in the FROM clause"
      ],
      "request": {
        "method": "GET",
        "path": "/forties_and_fifties_books?select=title,first_publisher,author:authors(name)&id=eq.1",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "title": "1984",
            "first_publisher": "Secker & Warburg",
            "author": {
              "name": "George Orwell"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works with views that have subselects in a function call"
      ],
      "request": {
        "method": "GET",
        "path": "/authors_have_book_in_decade2?select=*,books(title)&id=eq.3",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 3,
            "name": "Antoine de Saint-Exupry",
            "has_book_in_forties": true,
            "has_book_in_fifties": false,
            "has_book_in_sixties": false,
            "books": [
              {
                "title": "The Little Prince"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works with views that have CTE"
      ],
      "request": {
        "method": "GET",
        "path": "/odd_years_publications?select=title,publication_year,first_publisher,author:authors(name)&id=in.(1,2,3)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "title": "1984",
            "publication_year": 1949,
            "first_publisher": "Secker & Warburg",
            "author": {
              "name": "George Orwell"
            }
          },
          {
            "title": "The Diary of a Young Girl",
            "publication_year": 1947,
            "first_publisher": "Contact Publishing",
            "author": {
              "name": "Anne Frank"
            }
          },
          {
            "title": "The Little Prince",
            "publication_year": 1947,
            "first_publisher": "Reynal & Hitchcock",
            "author": {
              "name": "Antoine de Saint-Exupry"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works when having a capitalized table name and camelCase fk column"
      ],
      "request": {
        "method": "GET",
        "path": "/foos?select=*,bars(*)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works when embedding a view with a table that has a long compound pk (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/player_view?select=id,contract(purchase_price)&id=in.(1,3,5,7)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "contract": [
              {
                "purchase_price": 10
              }
            ]
          },
          {
            "id": 3,
            "contract": [
              {
                "purchase_price": 30
              }
            ]
          },
          {
            "id": 5,
            "contract": [
              {
                "purchase_price": 50
              }
            ]
          },
          {
            "id": 7,
            "contract": []
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works when embedding a view with a table that has a long compound pk (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/contract?select=tournament,player_view(first_name)&limit=3",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "tournament": "tournament_1",
            "player_view": {
              "first_name": "first_name_1"
            }
          },
          {
            "tournament": "tournament_2",
            "player_view": {
              "first_name": "first_name_2"
            }
          },
          {
            "tournament": "tournament_3",
            "player_view": {
              "first_name": "first_name_3"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works when embedding a view with a view that referes to a table that has a long compound pk (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/player_view?select=id,contract_view(purchase_price)&id=in.(1,3,5,7)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "contract_view": [
              {
                "purchase_price": 10
              }
            ]
          },
          {
            "id": 3,
            "contract_view": [
              {
                "purchase_price": 30
              }
            ]
          },
          {
            "id": 5,
            "contract_view": [
              {
                "purchase_price": 50
              }
            ]
          },
          {
            "id": 7,
            "contract_view": []
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works when embedding a view with a view that referes to a table that has a long compound pk (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/contract_view?select=tournament,player_view(first_name)&limit=3",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "tournament": "tournament_1",
            "player_view": {
              "first_name": "first_name_1"
            }
          },
          {
            "tournament": "tournament_2",
            "player_view": {
              "first_name": "first_name_2"
            }
          },
          {
            "tournament": "tournament_3",
            "player_view": {
              "first_name": "first_name_3"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works when embedding two views that refer to tables with different column ordering"
      ],
      "request": {
        "method": "GET",
        "path": "/v1?select=v2(*)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "can embed a view that has group by"
      ],
      "request": {
        "method": "GET",
        "path": "/projects_count_grouped_by?select=number_of_projects,client:clients(name)&order=number_of_projects",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "number_of_projects": 1,
            "client": null
          },
          {
            "number_of_projects": 2,
            "client": {
              "name": "Microsoft"
            }
          },
          {
            "number_of_projects": 2,
            "client": {
              "name": "Apple"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "can embed a view that has a subselect containing a select in a where"
      ],
      "request": {
        "method": "GET",
        "path": "/authors_w_entities?select=name,entities,books(title)&id=eq.1",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "George Orwell",
            "entities": [
              3,
              4
            ],
            "books": [
              {
                "title": "1984"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works with one to one relationships (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/students_view?select=name,students_info(address)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "John Doe",
            "students_info": {
              "address": "Street 1"
            }
          },
          {
            "name": "Jane Doe",
            "students_info": {
              "address": "Street 2"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works with one to one relationships (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/students_view?select=name,students_info_view(address)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "John Doe",
            "students_info_view": {
              "address": "Street 1"
            }
          },
          {
            "name": "Jane Doe",
            "students_info_view": {
              "address": "Street 2"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works with one to one relationships (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/students_info_view?select=address,students(name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "address": "Street 1",
            "students": {
              "name": "John Doe"
            }
          },
          {
            "address": "Street 2",
            "students": {
              "name": "Jane Doe"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "view embedding",
        "works with one to one relationships (4)"
      ],
      "request": {
        "method": "GET",
        "path": "/students_info_view?select=address,students_view(name)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "address": "Street 1",
            "students_view": {
              "name": "John Doe"
            }
          },
          {
            "address": "Street 2",
            "students_view": {
              "name": "Jane Doe"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "aliased embeds",
        "works with child relation"
      ],
      "request": {
        "method": "GET",
        "path": "/space?select=id,zones:zone(id,name),stores:zone(id,name)&zones.zone_type_id=eq.2&stores.zone_type_id=eq.3",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "zones": [
              {
                "id": 1,
                "name": "zone 1"
              },
              {
                "id": 2,
                "name": "zone 2"
              }
            ],
            "stores": [
              {
                "id": 3,
                "name": "store 3"
              },
              {
                "id": 4,
                "name": "store 4"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "aliased embeds",
        "works with many to many relation"
      ],
      "request": {
        "method": "GET",
        "path": "/users?select=id,designTasks:tasks(id,name),codeTasks:tasks(id,name)&designTasks.name=like.*Design*&codeTasks.name=like.*Code*",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "designTasks": [
              {
                "id": 1,
                "name": "Design w7"
              },
              {
                "id": 3,
                "name": "Design w10"
              }
            ],
            "codeTasks": [
              {
                "id": 2,
                "name": "Code w7"
              },
              {
                "id": 4,
                "name": "Code w10"
              }
            ]
          },
          {
            "id": 2,
            "designTasks": [
              {
                "id": 5,
                "name": "Design IOS"
              },
              {
                "id": 7,
                "name": "Design OSX"
              }
            ],
            "codeTasks": [
              {
                "id": 6,
                "name": "Code IOS"
              }
            ]
          },
          {
            "id": 3,
            "designTasks": [
              {
                "id": 1,
                "name": "Design w7"
              },
              {
                "id": 5,
                "name": "Design IOS"
              }
            ],
            "codeTasks": []
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "aliased embeds",
        "works with an aliased child plus non aliased child"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?select=id,name,designTasks:tasks(name,users(id,name))&designTasks.name=like.*Design*&designTasks.users.id=in.(1,2)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7",
            "designTasks": [
              {
                "name": "Design w7",
                "users": [
                  {
                    "id": 1,
                    "name": "Angela Martin"
                  }
                ]
              }
            ]
          },
          {
            "id": 2,
            "name": "Windows 10",
            "designTasks": [
              {
                "name": "Design w10",
                "users": [
                  {
                    "id": 1,
                    "name": "Angela Martin"
                  }
                ]
              }
            ]
          },
          {
            "id": 3,
            "name": "IOS",
            "designTasks": [
              {
                "name": "Design IOS",
                "users": [
                  {
                    "id": 2,
                    "name": "Michael Scott"
                  }
                ]
              }
            ]
          },
          {
            "id": 4,
            "name": "OSX",
            "designTasks": [
              {
                "name": "Design OSX",
                "users": [
                  {
                    "id": 2,
                    "name": "Michael Scott"
                  }
                ]
              }
            ]
          },
          {
            "id": 5,
            "name": "Orphan",
            "designTasks": []
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Shaping response with select parameter",
        "aliased embeds",
        "works with two aliased children embeds plus and/or"
      ],
      "request": {
        "method": "GET",
        "path": "/entities?select=id,children:child_entities(id,gChildren:grandchild_entities(id))&children.and=(id.in.(1,2,3))&children.gChildren.or=(id.eq.1,id.eq.2)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "children": [
              {
                "id": 1,
                "gChildren": [
                  {
                    "id": 1
                  },
                  {
                    "id": 2
                  }
                ]
              },
              {
                "id": 2,
                "gChildren": []
              }
            ]
          },
          {
            "id": 2,
            "children": [
              {
                "id": 3,
                "gChildren": []
              }
            ]
          },
          {
            "id": 3,
            "children": []
          },
          {
            "id": 4,
            "children": []
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "by a column asc"
      ],
      "request": {
        "method": "GET",
        "path": "/items?id=lte.2&order=id.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          },
          {
            "id": 2
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-1/*"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "by a column desc"
      ],
      "request": {
        "method": "GET",
        "path": "/items?id=lte.2&order=id.desc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 2
          },
          {
            "id": 1
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-1/*"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "by a column with nulls first"
      ],
      "request": {
        "method": "GET",
        "path": "/no_pk?order=a.nullsfirst",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "a": null,
            "b": null
          },
          {
            "a": "1",
            "b": "0"
          },
          {
            "a": "2",
            "b": "0"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-2/*"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "by a column asc with nulls last"
      ],
      "request": {
        "method": "GET",
        "path": "/no_pk?order=a.asc.nullslast",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "a": "1",
            "b": "0"
          },
          {
            "a": "2",
            "b": "0"
          },
          {
            "a": null,
            "b": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-2/*"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "by a column desc with nulls first"
      ],
      "request": {
        "method": "GET",
        "path": "/no_pk?order=a.desc.nullsfirst",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "a": null,
            "b": null
          },
          {
            "a": "2",
            "b": "0"
          },
          {
            "a": "1",
            "b": "0"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-2/*"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "by a column desc with nulls last"
      ],
      "request": {
        "method": "GET",
        "path": "/no_pk?order=a.desc.nullslast",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "a": "2",
            "b": "0"
          },
          {
            "a": "1",
            "b": "0"
          },
          {
            "a": null,
            "b": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-2/*"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "by two columns with nulls and direction specified"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?select=client_id,id,name&order=client_id.desc.nullslast,id.desc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "client_id": 2,
            "id": 4,
            "name": "OSX"
          },
          {
            "client_id": 2,
            "id": 3,
            "name": "IOS"
          },
          {
            "client_id": 1,
            "id": 2,
            "name": "Windows 10"
          },
          {
            "client_id": 1,
            "id": 1,
            "name": "Windows 7"
          },
          {
            "client_id": null,
            "id": 5,
            "name": "Orphan"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-4/*"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "by a column with no direction or nulls specified"
      ],
      "request": {
        "method": "GET",
        "path": "/items?id=lte.2&order=id",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          },
          {
            "id": 2
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Range",
            "0-1/*"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "without other constraints"
      ],
      "request": {
        "method": "GET",
        "path": "/items?order=id.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "ordering embeded entities"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=eq.1&select=id, name, tasks(id, name)&tasks.order=name.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7",
            "tasks": [
              {
                "id": 2,
                "name": "Code w7"
              },
              {
                "id": 1,
                "name": "Design w7"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "ordering embeded entities with alias"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=eq.1&select=id, name, the_tasks:tasks(id, name)&tasks.order=name.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7",
            "the_tasks": [
              {
                "id": 2,
                "name": "Code w7"
              },
              {
                "id": 1,
                "name": "Design w7"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "ordering embeded entities, two levels"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=eq.1&select=id, name, tasks(id, name, users(id, name))&tasks.order=name.asc&tasks.users.order=name.desc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7",
            "tasks": [
              {
                "id": 2,
                "name": "Code w7",
                "users": [
                  {
                    "id": 1,
                    "name": "Angela Martin"
                  }
                ]
              },
              {
                "id": 1,
                "name": "Design w7",
                "users": [
                  {
                    "id": 3,
                    "name": "Dwight Schrute"
                  },
                  {
                    "id": 1,
                    "name": "Angela Martin"
                  }
                ]
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "ordering embeded parents does not break things"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=eq.1&select=id, name, clients(id, name)&clients.order=name.asc",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7",
            "clients": {
              "id": 1,
              "name": "Microsoft"
            }
          }
        ],
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "ordering response",
        "gives meaningful error message on bad syntax"
      ],
      "request": {
        "method": "GET",
        "path": "/items?order=id.asc.nullslasttt",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": {
          "details": "unexpected 't' expecting \",\" or end of input",
          "message": "\"failed to parse order (id.asc.nullslasttt)\" (line 1, column 17)",
          "code": "PGRST100",
          "hint": null
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Length",
            "169"
          ],
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Accept headers",
        "should respond an unknown accept type with 406"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk",
        "headers": [
          [
            "Accept",
            "text/unknowntype"
          ]
        ],
        "body": null
      },
      "expected": {
        "status": 406,
        "body": {
          "message": "None of these media types are available: text/unknowntype",
          "code": "PGRST107",
          "details": null,
          "hint": null
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Length",
            "116"
          ],
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Accept headers",
        "should respond correctly to */* in accept header"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk",
        "headers": [
          [
            "Accept",
            "*/*"
          ]
        ],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Accept headers",
        "*/* should rescue an unknown type"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk",
        "headers": [
          [
            "Accept",
            "text/unknowntype, */*"
          ]
        ],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Accept headers",
        "should respond correctly to multiple types in accept header"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk",
        "headers": [
          [
            "Accept",
            "text/unknowntype, text/csv"
          ]
        ],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Accept headers",
        "should respond with CSV to 'text/csv' request"
      ],
      "request": {
        "method": "GET",
        "path": "/simple_pk",
        "headers": [
          [
            "Accept",
            "text/csv; version=1"
          ]
        ],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": "k,extra\\nxyyx,u\\nxYYx,v",
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "text/csv; charset=utf-8"
          ],
          [
            "Content-Length",
            "21"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Canonical location",
        "Sets Content-Location with alphabetized params"
      ],
      "request": {
        "method": "GET",
        "path": "/no_pk?b=eq.1&a=eq.1",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [
          [
            "Content-Location",
            "/no_pk?a=eq.1&b=eq.1"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "weird requests",
        "can query as normal (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/Escap3e;",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "so6meIdColumn": 1
          },
          {
            "so6meIdColumn": 2
          },
          {
            "so6meIdColumn": 3
          },
          {
            "so6meIdColumn": 4
          },
          {
            "so6meIdColumn": 5
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "weird requests",
        "can query as normal (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/ghostBusters",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "escapeId": 1
          },
          {
            "escapeId": 3
          },
          {
            "escapeId": 5
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "weird requests",
        "fails if an operator is not given"
      ],
      "request": {
        "method": "GET",
        "path": "/ghostBusters?id=0",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": {
          "code": "PGRST100",
          "details": "unexpected \"0\" expecting \"not\" or operator (eq, gt, ...)",
          "hint": null,
          "message": "\"failed to parse filter (0)\" (line 1, column 1)"
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "weird requests",
        "will embed a collection"
      ],
      "request": {
        "method": "GET",
        "path": "/Escap3e;?select=ghostBusters(*)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "ghostBusters": [
              {
                "escapeId": 1
              }
            ]
          },
          {
            "ghostBusters": []
          },
          {
            "ghostBusters": [
              {
                "escapeId": 3
              }
            ]
          },
          {
            "ghostBusters": []
          },
          {
            "ghostBusters": [
              {
                "escapeId": 5
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "weird requests",
        "will select and filter a column that has spaces"
      ],
      "request": {
        "method": "GET",
        "path": "/Server%20Today?select=Just%20A%20Server%20Model&Just%20A%20Server%20Model=like.*91*",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "Just A Server Model": " IBM,9113-550 (P5-550)"
          },
          {
            "Just A Server Model": " IBM,9113-550 (P5-550)"
          },
          {
            "Just A Server Model": " IBM,9131-52A (P5-52A)"
          },
          {
            "Just A Server Model": " IBM,9133-55A (P5-55A)"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "weird requests",
        "will select and filter a quoted column that has PostgREST reserved characters"
      ],
      "request": {
        "method": "GET",
        "path": "/pgrst_reserved_chars?select=%22:arr-%3Eow::cast%22,%22(inside,parens)%22,%22a.dotted.column%22,%22%20%20col%20%20w%20%20space%20%20%22&%22*id*%22=eq.1",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            ":arr->ow::cast": " arrow-1 ",
            "(inside,parens)": " parens-1 ",
            "a.dotted.column": " dotted-1 ",
            "  col  w  space  ": " space-1"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "weird requests",
        "will select and filter a column that has dollars in(without double quoting)"
      ],
      "request": {
        "method": "GET",
        "path": "/do$llar$s?select=a$num$&a$num$=eq.100",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "a$num$": 100
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "values with quotes in IN and NOT IN",
        "succeeds when only quoted values are present (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=in.(\"Hebdon, John\")",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Hebdon, John"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "values with quotes in IN and NOT IN",
        "succeeds when only quoted values are present (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=in.(\"Hebdon, John\",\"Williams, Mary\",\"Smith, Joseph\")",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Hebdon, John"
          },
          {
            "name": "Williams, Mary"
          },
          {
            "name": "Smith, Joseph"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "values with quotes in IN and NOT IN",
        "succeeds when only quoted values are present (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=not.in.(\"Hebdon, John\",\"Williams, Mary\",\"Smith, Joseph\")&limit=3",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "David White"
          },
          {
            "name": "Larry Thompson"
          },
          {
            "name": "Double O Seven(007)"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "values with quotes in IN and NOT IN",
        "succeeds w/ and w/o quoted values (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=in.(David White,\"Hebdon, John\")",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Hebdon, John"
          },
          {
            "name": "David White"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "values with quotes in IN and NOT IN",
        "succeeds w/ and w/o quoted values (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=not.in.(\"Hebdon, John\",Larry Thompson,\"Smith, Joseph\")&limit=3",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Williams, Mary"
          },
          {
            "name": "David White"
          },
          {
            "name": "Double O Seven(007)"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "values with quotes in IN and NOT IN",
        "succeeds w/ and w/o quoted values (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=in.(\"Double O Seven(007)\")",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Double O Seven(007)"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "values with quotes in IN and NOT IN",
        "escaped chars",
        "accepts escaped double quotes"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=in.(\"Double\\\"Quote\\\"McGraw\\\"\")",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Double\"Quote\"McGraw\""
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "values with quotes in IN and NOT IN",
        "escaped chars",
        "accepts escaped backslashes (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=in.(\"\\\\\")",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "\\"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "values with quotes in IN and NOT IN",
        "escaped chars",
        "accepts escaped backslashes (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=in.(\"/\\\\Slash/\\\\Beast/\\\\\")",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "/\\Slash/\\Beast/\\"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "values with quotes in IN and NOT IN",
        "escaped chars",
        "passes any escaped char as the same char"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=in.(\"D\\a\\vid W\\h\\ite\")",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "David White"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN values without quotes",
        "accepts single double quotes as values (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=in.(\")",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "\""
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN values without quotes",
        "accepts single double quotes as values (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=in.(Double\"Quote\"McGraw\")",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "Double\"Quote\"McGraw\""
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN values without quotes",
        "accepts backslashes as values (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=in.(\\)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "\\"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN values without quotes",
        "accepts backslashes as values (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/w_or_wo_comma_names?name=in.(/\\Slash/\\Beast/\\)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "name": "/\\Slash/\\Beast/\\"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN and NOT IN empty set",
        "returns an empty result for IN when no value is present",
        "works for integer"
      ],
      "request": {
        "method": "GET",
        "path": "/items_with_different_col_types?int_data=in.()",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN and NOT IN empty set",
        "returns an empty result for IN when no value is present",
        "works for text"
      ],
      "request": {
        "method": "GET",
        "path": "/items_with_different_col_types?text_data=in.()",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN and NOT IN empty set",
        "returns an empty result for IN when no value is present",
        "works for bool"
      ],
      "request": {
        "method": "GET",
        "path": "/items_with_different_col_types?bool_data=in.()",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN and NOT IN empty set",
        "returns an empty result for IN when no value is present",
        "works for bytea"
      ],
      "request": {
        "method": "GET",
        "path": "/items_with_different_col_types?bin_data=in.()",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN and NOT IN empty set",
        "returns an empty result for IN when no value is present",
        "works for char"
      ],
      "request": {
        "method": "GET",
        "path": "/items_with_different_col_types?char_data=in.()",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN and NOT IN empty set",
        "returns an empty result for IN when no value is present",
        "works for date"
      ],
      "request": {
        "method": "GET",
        "path": "/items_with_different_col_types?date_data=in.()",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN and NOT IN empty set",
        "returns an empty result for IN when no value is present",
        "works for real"
      ],
      "request": {
        "method": "GET",
        "path": "/items_with_different_col_types?real_data=in.()",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN and NOT IN empty set",
        "returns an empty result for IN when no value is present",
        "works for time"
      ],
      "request": {
        "method": "GET",
        "path": "/items_with_different_col_types?time_data=in.()",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN and NOT IN empty set",
        "returns all results for not.in when no value is present"
      ],
      "request": {
        "method": "GET",
        "path": "/items_with_different_col_types?int_data=not.in.()&select=int_data",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "int_data": 1
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN and NOT IN empty set",
        "returns an empty result ignoring spaces"
      ],
      "request": {
        "method": "GET",
        "path": "/items_with_different_col_types?int_data=in.( )",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "IN and NOT IN empty set",
        "only returns an empty result set if the in value is empty"
      ],
      "request": {
        "method": "GET",
        "path": "/items_with_different_col_types?int_data=in.( ,3,4)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": {
          "hint": null,
          "details": null,
          "code": "22P02",
          "message": "invalid input syntax for type integer: \"\""
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Embedding when column name = table name",
        "works with child embeds"
      ],
      "request": {
        "method": "GET",
        "path": "/being?select=*,descendant(*)&limit=1",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "being": 1,
            "descendant": [
              {
                "descendant": 1,
                "being": 1
              },
              {
                "descendant": 2,
                "being": 1
              },
              {
                "descendant": 3,
                "being": 1
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Embedding when column name = table name",
        "works with many to many embeds"
      ],
      "request": {
        "method": "GET",
        "path": "/being?select=*,part(*)&limit=1",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "being": 1,
            "part": [
              {
                "part": 1
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Foreign table",
        "can be queried by using regular filters"
      ],
      "request": {
        "method": "GET",
        "path": "/projects_dump?id=in.(1,2,3)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7",
            "client_id": 1
          },
          {
            "id": 2,
            "name": "Windows 10",
            "client_id": 1
          },
          {
            "id": 3,
            "name": "IOS",
            "client_id": 2
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Foreign table",
        "can be queried with select, order and limit"
      ],
      "request": {
        "method": "GET",
        "path": "/projects_dump?select=id,name&order=id.desc&limit=3",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 5,
            "name": "Orphan"
          },
          {
            "id": 4,
            "name": "OSX"
          },
          {
            "id": 3,
            "name": "IOS"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "cannot use ltree(in public schema) extension operators if no extra search path added"
      ],
      "request": {
        "method": "GET",
        "path": "/ltree_sample?path=cd.Top.Science.Astronomy",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": null,
        "bodyExact": true,
        "headers": [],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "VIEW that has a source FK based on a UNIQUE key",
        "can be embedded"
      ],
      "request": {
        "method": "GET",
        "path": "/referrals?select=site,link:pages(url)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "site": "github.com",
            "link": {
              "url": "http://postgrest.org/en/v6.0/api.html"
            }
          },
          {
            "site": "hub.docker.com",
            "link": {
              "url": "http://postgrest.org/en/v6.0/admin.html"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "empty embed",
        "works on a many-to-one relationship (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?select=id,name,clients()",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7"
          },
          {
            "id": 2,
            "name": "Windows 10"
          },
          {
            "id": 3,
            "name": "IOS"
          },
          {
            "id": 4,
            "name": "OSX"
          },
          {
            "id": 5,
            "name": "Orphan"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "empty embed",
        "works on a many-to-one relationship (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?select=id,name,clients!inner()&clients.id=eq.2",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 3,
            "name": "IOS"
          },
          {
            "id": 4,
            "name": "OSX"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "empty embed",
        "works on a one-to-many relationship (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/clients?select=id,name,projects()",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Microsoft"
          },
          {
            "id": 2,
            "name": "Apple"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "empty embed",
        "works on a one-to-many relationship (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/clients?select=id,name,projects!inner()&projects.name=eq.IOS",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 2,
            "name": "Apple"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "empty embed",
        "works on a many-to-many relationship (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/users?select=*,tasks!inner()",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Angela Martin"
          },
          {
            "id": 2,
            "name": "Michael Scott"
          },
          {
            "id": 3,
            "name": "Dwight Schrute"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "empty embed",
        "works on a many-to-many relationship (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/users?select=*,tasks!inner()&tasks.id=eq.3",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Angela Martin"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "empty embed",
        "works on nested relationships (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/users?select=*,users_tasks(tasks(projects()))",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Angela Martin"
          },
          {
            "id": 2,
            "name": "Michael Scott"
          },
          {
            "id": 3,
            "name": "Dwight Schrute"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "empty embed",
        "works on nested relationships (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/users?select=*,users_tasks!inner(tasks!inner(projects()))&users_tasks.tasks.id=eq.3",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Angela Martin"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "empty embed",
        "works on nested relationships (3)"
      ],
      "request": {
        "method": "GET",
        "path": "/users?select=*,tasks(projects(clients()),users_tasks())",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Angela Martin"
          },
          {
            "id": 2,
            "name": "Michael Scott"
          },
          {
            "id": 3,
            "name": "Dwight Schrute"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "empty embed",
        "works on nested relationships (4)"
      ],
      "request": {
        "method": "GET",
        "path": "/users?select=*,tasks!inner(projects(clients()),users_tasks(),name)&tasks.id=eq.3",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Angela Martin",
            "tasks": [
              {
                "name": "Design w10"
              }
            ]
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "empty root select",
        "gives all columns (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?select=",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7",
            "client_id": 1
          },
          {
            "id": 2,
            "name": "Windows 10",
            "client_id": 1
          },
          {
            "id": 3,
            "name": "IOS",
            "client_id": 2
          },
          {
            "id": 4,
            "name": "OSX",
            "client_id": 2
          },
          {
            "id": 5,
            "name": "Orphan",
            "client_id": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "empty root select",
        "gives all columns (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/rpc/getallprojects?select=",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7",
            "client_id": 1
          },
          {
            "id": 2,
            "name": "Windows 10",
            "client_id": 1
          },
          {
            "id": 3,
            "name": "IOS",
            "client_id": 2
          },
          {
            "id": 4,
            "name": "OSX",
            "client_id": 2
          },
          {
            "id": 5,
            "name": "Orphan",
            "client_id": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "any/all quantifiers",
        "works with the eq operator"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=eq(any).{3,4,5}",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 3,
            "name": "IOS",
            "client_id": 2
          },
          {
            "id": 4,
            "name": "OSX",
            "client_id": 2
          },
          {
            "id": 5,
            "name": "Orphan",
            "client_id": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "any/all quantifiers",
        "works with the gt/gte operator (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=gt(all).{4,3}",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 5,
            "name": "Orphan",
            "client_id": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "any/all quantifiers",
        "works with the gt/gte operator (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=gte(all).{4,3}",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 4,
            "name": "OSX",
            "client_id": 2
          },
          {
            "id": 5,
            "name": "Orphan",
            "client_id": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "any/all quantifiers",
        "works with the lt/lte operator (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=lt(all).{4,3}",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7",
            "client_id": 1
          },
          {
            "id": 2,
            "name": "Windows 10",
            "client_id": 1
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "any/all quantifiers",
        "works with the lt/lte operator (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/projects?id=lte(all).{4,3}",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Windows 7",
            "client_id": 1
          },
          {
            "id": 2,
            "name": "Windows 10",
            "client_id": 1
          },
          {
            "id": 3,
            "name": "IOS",
            "client_id": 2
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "any/all quantifiers",
        "works with the like/ilike operator (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/articles?body=like(any).{%plan%,%brain%}&select=id",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          },
          {
            "id": 2
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "any/all quantifiers",
        "works with the like/ilike operator (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/articles?body=ilike(all).{%plan%,%greatness%}&select=id",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "any/all quantifiers",
        "works with the match/imatch operator (1)"
      ],
      "request": {
        "method": "GET",
        "path": "/articles?body=match(any).{stop,thing}&select=id",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "any/all quantifiers",
        "works with the match/imatch operator (2)"
      ],
      "request": {
        "method": "GET",
        "path": "/articles?body=imatch(any).{stop,thing}&select=id",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1
          },
          {
            "id": 2
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "formats a single column"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?select=id,label_color&id=lt.4",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "label_color": "#000000"
          },
          {
            "id": 2,
            "label_color": "#000100"
          },
          {
            "id": 3,
            "label_color": "#01E240"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "formats two columns with different formatters"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?select=id,label_color,due_at&id=lt.4",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "label_color": "#000000",
            "due_at": "2018-01-02T00:00:00Z"
          },
          {
            "id": 2,
            "label_color": "#000100",
            "due_at": "2018-01-03T00:00:00Z"
          },
          {
            "id": 3,
            "label_color": "#01E240",
            "due_at": "2018-01-01T14:12:34.123456Z"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "fails in some reasonable way when selecting fields that don't exist"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?select=id,label_color,banana",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": {
          "code": "42703",
          "details": null,
          "hint": null,
          "message": "column datarep_todos.banana does not exist"
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Length",
            "98"
          ],
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "formats columns in views including computed columns"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos_computed?select=id,label_color,dark_color",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "label_color": "#000000",
            "dark_color": "#000000"
          },
          {
            "id": 2,
            "label_color": "#000100",
            "dark_color": "#000080"
          },
          {
            "id": 3,
            "label_color": "#01E240",
            "dark_color": "#00F120"
          },
          {
            "id": 4,
            "label_color": "",
            "dark_color": ""
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "formats and allows rename"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?select=id,clr:label_color&id=lt.4",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "clr": "#000000"
          },
          {
            "id": 2,
            "clr": "#000100"
          },
          {
            "id": 3,
            "clr": "#01E240"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "formats, renames and allows manual casting on top"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?select=id,clr:label_color::text&id=lt.4",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "clr": "\"#000000\""
          },
          {
            "id": 2,
            "clr": "\"#000100\""
          },
          {
            "id": 3,
            "clr": "\"#01E240\""
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "formats nulls"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?select=id,label_color,due_at&id=gt.2&id=lt.5",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 3,
            "label_color": "#01E240",
            "due_at": "2018-01-01T14:12:34.123456Z"
          },
          {
            "id": 4,
            "label_color": "",
            "due_at": null
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "formats star select"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?select=*&id=lt.4",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Report",
            "label_color": "#000000",
            "due_at": "2018-01-02T00:00:00Z",
            "icon_image": "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQAAAAA3bvkkAAAAABBJREFUeJxiYAEAAAAA//8DAAAABgAFBXv6vUAAAAAASUVORK5CYII=",
            "created_at": 1513213350,
            "budget": "12.50"
          },
          {
            "id": 2,
            "name": "Essay",
            "label_color": "#000100",
            "due_at": "2018-01-03T00:00:00Z",
            "icon_image": null,
            "created_at": 1513213350,
            "budget": "100000000000000.13"
          },
          {
            "id": 3,
            "name": "Algebra",
            "label_color": "#01E240",
            "due_at": "2018-01-01T14:12:34.123456Z",
            "icon_image": null,
            "created_at": 1513213350,
            "budget": "0.00"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "formats implicit star select"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?id=lt.4",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "Report",
            "label_color": "#000000",
            "due_at": "2018-01-02T00:00:00Z",
            "icon_image": "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQAAAAA3bvkkAAAAABBJREFUeJxiYAEAAAAA//8DAAAABgAFBXv6vUAAAAAASUVORK5CYII=",
            "created_at": 1513213350,
            "budget": "12.50"
          },
          {
            "id": 2,
            "name": "Essay",
            "label_color": "#000100",
            "due_at": "2018-01-03T00:00:00Z",
            "icon_image": null,
            "created_at": 1513213350,
            "budget": "100000000000000.13"
          },
          {
            "id": 3,
            "name": "Algebra",
            "label_color": "#01E240",
            "due_at": "2018-01-01T14:12:34.123456Z",
            "icon_image": null,
            "created_at": 1513213350,
            "budget": "0.00"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "formats star and explicit mix"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?select=due_at,*&id=lt.4",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "due_at": "2018-01-02T00:00:00Z",
            "id": 1,
            "name": "Report",
            "label_color": "#000000",
            "icon_image": "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQAAAAA3bvkkAAAAABBJREFUeJxiYAEAAAAA//8DAAAABgAFBXv6vUAAAAAASUVORK5CYII=",
            "created_at": 1513213350,
            "budget": "12.50"
          },
          {
            "due_at": "2018-01-03T00:00:00Z",
            "id": 2,
            "name": "Essay",
            "label_color": "#000100",
            "icon_image": null,
            "created_at": 1513213350,
            "budget": "100000000000000.13"
          },
          {
            "due_at": "2018-01-01T14:12:34.123456Z",
            "id": 3,
            "name": "Algebra",
            "label_color": "#01E240",
            "icon_image": null,
            "created_at": 1513213350,
            "budget": "0.00"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "formats through join"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_next_two_todos?select=id,name,first_item:datarep_todos!datarep_next_two_todos_first_item_id_fkey(label_color,due_at)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "school related",
            "first_item": {
              "label_color": "#000100",
              "due_at": "2018-01-03T00:00:00Z"
            }
          },
          {
            "id": 2,
            "name": "do these first",
            "first_item": {
              "label_color": "#000000",
              "due_at": "2018-01-02T00:00:00Z"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "formats through join with star select"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_next_two_todos?select=id,name,second_item:datarep_todos!datarep_next_two_todos_second_item_id_fkey(*)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "school related",
            "second_item": {
              "id": 3,
              "name": "Algebra",
              "label_color": "#01E240",
              "due_at": "2018-01-01T14:12:34.123456Z",
              "icon_image": null,
              "created_at": 1513213350,
              "budget": "0.00"
            }
          },
          {
            "id": 2,
            "name": "do these first",
            "second_item": {
              "id": 3,
              "name": "Algebra",
              "label_color": "#01E240",
              "due_at": "2018-01-01T14:12:34.123456Z",
              "icon_image": null,
              "created_at": 1513213350,
              "budget": "0.00"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "uses text parser on value for filter given through query parameters"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?select=id,due_at&label_color=eq.000100",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 2,
            "due_at": "2018-01-03T00:00:00Z"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "in the absense of text parser, does not try to use the JSON parser for query parameters"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?select=id,due_at&due_at=eq.Z",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 400,
        "body": {
          "code": "22007",
          "details": null,
          "hint": null,
          "message": "invalid input syntax for type timestamp with time zone: \"Z\""
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Length",
            "117"
          ],
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "uses text parser for filter with 'IN' predicates"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?select=id,due_at&label_color=in.(000100,01E240)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 2,
            "due_at": "2018-01-03T00:00:00Z"
          },
          {
            "id": 3,
            "due_at": "2018-01-01T14:12:34.123456Z"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "uses text parser for filter with 'NOT IN' predicates"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?select=id,due_at&label_color=not.in.(000000,01E240)",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 2,
            "due_at": "2018-01-03T00:00:00Z"
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "uses text parser on value for filter across relations"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_next_two_todos?select=id,name,datarep_todos!datarep_next_two_todos_first_item_id_fkey(label_color,due_at)&datarep_todos.label_color=neq.000100",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "name": "school related",
            "datarep_todos": null
          },
          {
            "id": 2,
            "name": "do these first",
            "datarep_todos": {
              "label_color": "#000000",
              "due_at": "2018-01-02T00:00:00Z"
            }
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "Data representations for customisable value formatting and parsing",
        "fails safely on user trying to use ilike operator on data reps column"
      ],
      "request": {
        "method": "GET",
        "path": "/datarep_todos?select=id,name&label_color=ilike.#*100",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 404,
        "body": {
          "code": "42883",
          "details": null,
          "hint": "No operator matches the given name and argument types. You might need to add explicit type casts.",
          "message": "operator does not exist: public.color ~~* unknown"
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Length",
            "200"
          ],
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "searching for an empty string",
        "works with an empty eq filter"
      ],
      "request": {
        "method": "GET",
        "path": "/empty_string?string=eq.&select=id,string",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 200,
        "body": [
          {
            "id": 1,
            "string": ""
          }
        ],
        "bodyExact": true,
        "headers": [
          [
            "Content-Type",
            "application/json; charset=utf-8"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "test infinite recursion error 42P17",
        "return http status 500"
      ],
      "request": {
        "method": "GET",
        "path": "/infinite_recursion?select=*",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 500,
        "body": {
          "code": "42P17",
          "message": "infinite recursion detected in rules for relation \"infinite_recursion\"",
          "details": null,
          "hint": null
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Length",
            "128"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    },
    {
      "description": [
        "invalid resource path",
        "return http status 404"
      ],
      "request": {
        "method": "GET",
        "path": "/first/second/third?select=*",
        "headers": [],
        "body": null
      },
      "expected": {
        "status": 404,
        "body": {
          "code": "PGRST125",
          "details": null,
          "hint": null,
          "message": "Invalid path specified in request URL"
        },
        "bodyExact": true,
        "headers": [
          [
            "Content-Length",
            "96"
          ]
        ],
        "headersAbsent": [],
        "headersContain": []
      }
    }
  ]
}